{"version":3,"sources":["../node_modules/three-orbit-controls/index.js","serviceWorker.js","assets/bb.png","three/rocket.js","../node_modules/three/examples/jsm/utils/SceneUtils.js","mobile-pages/prompt/prompt.jsx","mobile-pages/prompt/index.js","AppMobile.js","mobile.js"],"names":["module","exports","THREE","OrbitControls","object","domElement","this","undefined","document","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","PAN","target0","clone","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","reset","scope","copy","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","max","min","makeSafe","radius","scale","add","panOffset","setFromSpherical","lookAt","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","window","onKeyDown","type","startEvent","endEvent","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","pan","deltaX","deltaY","element","body","PerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","OrthographicCamera","right","left","clientWidth","top","bottom","console","warn","dollyIn","dollyScale","dollyOut","event","preventDefault","button","clientX","clientY","handleMouseDownRotate","handleMouseDownDolly","handleMouseDownPan","addEventListener","subVectors","x","y","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","prototype","Object","create","EventDispatcher","constructor","defineProperties","center","get","noZoom","value","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","Boolean","location","hostname","match","unregister","navigator","serviceWorker","ready","then","registration","catch","error","message","controls","rocketGroup","fire","fire2","stars","rocketTarget","plane","camera","cameraTarget","renderer","scene","targetSphere","SceneUtils","geometry","materials","group","Group","i","l","Mesh","threeOrbitControls","OutlineShader","uniforms","color","alpha","vertexShader","join","fragmentShader","init","container","getElementById","antialias","setPixelRatio","devicePixelRatio","setSize","innerWidth","innerHeight","appendChild","style","cursor","background","fog","aLight","dLight1","rocket","points","push","point","cos","rocketGeo","rocketMat","shininess","rocketOutlineMat","side","rocketObj","setScalar","portalGeo","portalMat","portalOutlineMat","portal","rotation","circle","absarc","hole","holes","tubeGeo","amount","steps","bevelEnabled","computeVertexNormals","tubeMat","tubeOutlineMat","tube","shape","moveTo","quadraticCurveTo","lineTo","wingGroup","wingGeo","bevelThickness","bevelSize","bevelSegments","wingMat","wingOutlineMat","wing","wing2","wing3","wing4","Particles","size","rangeH","rangeV","pointCount","speed","mousemove","touchmove","resize","options","speedTarget","call","canvas","createElement","width","height","ctx","getContext","centerX","centerY","beginPath","arc","fillStyle","fill","texture","premultiplyAlpha","needsUpdate","pointsGeo","pointsMat","map","transparent","depthWrite","p","randFloatSpread","velocity","random","vertices","sortParticles","pCount","verticesNeedUpdate","updateConstant","raycaster","mouse","e","z","setFromCamera","ray","intersectPlane","changedTouches","touch","aspect","clock","time","degToRad","loop","requestAnimationFrame","getDelta","lerp","render","prop","destination","abs","Prompt","useEffect","className","src","bbPic","alt","id","AppMobile","ReactDOM","StrictMode"],"mappings":"kHAAAA,EAAOC,QAAU,SAAUC,GAgB1B,SAASC,EAAeC,EAAQC,GAE/BC,KAAKF,OAASA,EAEdE,KAAKD,gBAA8BE,IAAfF,EAA6BA,EAAaG,SAG9DF,KAAKG,SAAU,EAGfH,KAAKI,OAAS,IAAIR,EAAMS,QAGxBL,KAAKM,YAAc,EACnBN,KAAKO,YAAcC,IAGnBR,KAAKS,QAAU,EACfT,KAAKU,QAAUF,IAIfR,KAAKW,cAAgB,EACrBX,KAAKY,cAAgBC,KAAKC,GAI1Bd,KAAKe,iBAAoBP,IACzBR,KAAKgB,gBAAkBR,IAIvBR,KAAKiB,eAAgB,EACrBjB,KAAKkB,cAAgB,IAIrBlB,KAAKmB,YAAa,EAClBnB,KAAKoB,UAAY,EAGjBpB,KAAKqB,cAAe,EACpBrB,KAAKsB,YAAc,EAGnBtB,KAAKuB,WAAY,EACjBvB,KAAKwB,YAAc,EAInBxB,KAAKyB,YAAa,EAClBzB,KAAK0B,gBAAkB,EAGvB1B,KAAK2B,YAAa,EAGlB3B,KAAK4B,KAAO,CAAEC,KAAM,GAAIC,GAAI,GAAIC,MAAO,GAAIC,OAAQ,IAGnDhC,KAAKiC,aAAe,CAAEC,MAAOtC,EAAMuC,MAAMN,KAAMO,KAAMxC,EAAMuC,MAAME,OAAQC,IAAK1C,EAAMuC,MAAMJ,OAG1F/B,KAAKuC,QAAUvC,KAAKI,OAAOoC,QAC3BxC,KAAKyC,UAAYzC,KAAKF,OAAO4C,SAASF,QACtCxC,KAAK2C,MAAQ3C,KAAKF,OAAO8C,KAMzB5C,KAAK6C,cAAgB,WAEpB,OAAOC,EAAUC,KAIlB/C,KAAKgD,kBAAoB,WAExB,OAAOF,EAAUG,OAIlBjD,KAAKkD,MAAQ,WAEZC,EAAM/C,OAAOgD,KAAMD,EAAMZ,SACzBY,EAAMrD,OAAO4C,SAASU,KAAMD,EAAMV,WAClCU,EAAMrD,OAAO8C,KAAOO,EAAMR,MAE1BQ,EAAMrD,OAAOuD,yBACbF,EAAMG,cAAeC,GAErBJ,EAAMK,SAENC,EAAQC,EAAMC,MAKf3D,KAAKwD,OAAS,WAEb,IAAII,EAAS,IAAIhE,EAAMS,QAGnBwD,GAAO,IAAIjE,EAAMkE,YAAaC,mBAAoBjE,EAAOkE,GAAI,IAAIpE,EAAMS,QAAS,EAAG,EAAG,IACtF4D,EAAcJ,EAAKrB,QAAQ0B,UAE3BC,EAAe,IAAIvE,EAAMS,QACzB+D,EAAiB,IAAIxE,EAAMkE,WAE/B,OAAO,WAEN,IAAIpB,EAAWS,EAAMrD,OAAO4C,SA+D5B,OA7DAkB,EAAOR,KAAMV,GAAW2B,IAAKlB,EAAM/C,QAGnCwD,EAAOU,gBAAiBT,GAGxBf,EAAUyB,eAAgBX,GAErBT,EAAM1B,YAAcgC,IAAUC,EAAMC,MAExCa,EAgIK,EAAI3D,KAAKC,GAAK,GAAK,GAAKqC,EAAMzB,iBA5HpCoB,EAAUG,OAASwB,EAAexB,MAClCH,EAAUC,KAAO0B,EAAe1B,IAGhCD,EAAUG,MAAQpC,KAAK6D,IAAKvB,EAAMpC,gBAAiBF,KAAK8D,IAAKxB,EAAMnC,gBAAiB8B,EAAUG,QAG9FH,EAAUC,IAAMlC,KAAK6D,IAAKvB,EAAMxC,cAAeE,KAAK8D,IAAKxB,EAAMvC,cAAekC,EAAUC,MAExFD,EAAU8B,WAGV9B,EAAU+B,QAAUC,EAGpBhC,EAAU+B,OAAShE,KAAK6D,IAAKvB,EAAM7C,YAAaO,KAAK8D,IAAKxB,EAAM5C,YAAauC,EAAU+B,SAGvF1B,EAAM/C,OAAO2E,IAAKC,GAElBpB,EAAOqB,iBAAkBnC,GAGzBc,EAAOU,gBAAiBL,GAExBvB,EAASU,KAAMD,EAAM/C,QAAS2E,IAAKnB,GAEnCT,EAAMrD,OAAOoF,OAAQ/B,EAAM/C,SAEE,IAAxB+C,EAAMlC,eAEVwD,EAAexB,OAAW,EAAIE,EAAMjC,cACpCuD,EAAe1B,KAAS,EAAII,EAAMjC,eAIlCuD,EAAeU,IAAK,EAAG,EAAG,GAI3BL,EAAQ,EACRE,EAAUG,IAAK,EAAG,EAAG,MAMhBC,GACJjB,EAAakB,kBAAmBlC,EAAMrD,OAAO4C,UAAa4C,GAC1D,GAAM,EAAIlB,EAAemB,IAAKpC,EAAMrD,OAAO0F,aAAiBF,KAE5DnC,EAAMG,cAAeC,GAErBY,EAAaf,KAAMD,EAAMrD,OAAO4C,UAChC0B,EAAehB,KAAMD,EAAMrD,OAAO0F,YAClCJ,GAAc,GAEP,IAtFI,GAgGdpF,KAAKyF,QAAU,WAEdtC,EAAMpD,WAAW2F,oBAAqB,cAAeC,GAAe,GACpExC,EAAMpD,WAAW2F,oBAAqB,YAAaE,GAAa,GAChEzC,EAAMpD,WAAW2F,oBAAqB,QAASG,GAAc,GAE7D1C,EAAMpD,WAAW2F,oBAAqB,aAAcI,GAAc,GAClE3C,EAAMpD,WAAW2F,oBAAqB,WAAYK,GAAY,GAC9D5C,EAAMpD,WAAW2F,oBAAqB,YAAaM,GAAa,GAEhE9F,SAASwF,oBAAqB,YAAaO,GAAa,GACxD/F,SAASwF,oBAAqB,UAAWQ,GAAW,GAEpDC,OAAOT,oBAAqB,UAAWU,GAAW,IAUnD,IAAIjD,EAAQnD,KAERuD,EAAc,CAAE8C,KAAM,UACtBC,EAAa,CAAED,KAAM,SACrBE,EAAW,CAAEF,KAAM,OAEnB3C,EAAQ,CAAEC,MAAS,EAAG6C,OAAS,EAAGC,MAAQ,EAAGnE,IAAM,EAAGoE,aAAe,EAAGC,YAAc,EAAGC,UAAY,GAErGnD,EAAQC,EAAMC,KAEd2B,EAAM,KAGNxC,EAAY,IAAIlD,EAAMiH,UACtBpC,EAAiB,IAAI7E,EAAMiH,UAE3B/B,EAAQ,EACRE,EAAY,IAAIpF,EAAMS,QACtB+E,GAAc,EAEd0B,EAAc,IAAIlH,EAAMmH,QACxBC,EAAY,IAAIpH,EAAMmH,QACtBE,EAAc,IAAIrH,EAAMmH,QAExBG,EAAW,IAAItH,EAAMmH,QACrBI,EAAS,IAAIvH,EAAMmH,QACnBK,EAAW,IAAIxH,EAAMmH,QAErBM,EAAa,IAAIzH,EAAMmH,QACvBO,EAAW,IAAI1H,EAAMmH,QACrBQ,EAAa,IAAI3H,EAAMmH,QAQ3B,SAASS,IAER,OAAO3G,KAAK4G,IAAK,IAAMtE,EAAM/B,WAI9B,SAASoD,EAAYkD,GAEpBjD,EAAexB,OAASyE,EAIzB,SAASC,EAAUD,GAElBjD,EAAe1B,KAAO2E,EAIvB,IAAIE,EAAU,WAEb,IAAIC,EAAI,IAAIjI,EAAMS,QAElB,OAAO,SAAkByH,EAAUC,GAElCF,EAAEG,oBAAqBD,EAAc,GACrCF,EAAEI,gBAAkBH,GAEpB9C,EAAUD,IAAK8C,IATH,GAeVK,EAAQ,WAEX,IAAIL,EAAI,IAAIjI,EAAMS,QAElB,OAAO,SAAgByH,EAAUC,GAEhCF,EAAEG,oBAAqBD,EAAc,GACrCF,EAAEI,eAAgBH,GAElB9C,EAAUD,IAAK8C,IATL,GAgBRM,EAAM,WAET,IAAIvE,EAAS,IAAIhE,EAAMS,QAEvB,OAAO,SAAe+H,EAAQC,GAE7B,IAAIC,EAAUnF,EAAMpD,aAAeG,SAAWiD,EAAMpD,WAAWwI,KAAOpF,EAAMpD,WAE5E,GAAKoD,EAAMrD,kBAAkBF,EAAM4I,kBAAoB,CAGtD,IAAI9F,EAAWS,EAAMrD,OAAO4C,SAC5BkB,EAAOR,KAAMV,GAAW2B,IAAKlB,EAAM/C,QACnC,IAAIqI,EAAiB7E,EAAO8E,SAG5BD,GAAkB5H,KAAK8H,IAAOxF,EAAMrD,OAAO8I,IAAM,EAAM/H,KAAKC,GAAK,KAGjE8G,EAAS,EAAIQ,EAASK,EAAiBH,EAAQO,aAAc1F,EAAMrD,OAAOgJ,QAC1EZ,EAAO,EAAIG,EAASI,EAAiBH,EAAQO,aAAc1F,EAAMrD,OAAOgJ,aAE7D3F,EAAMrD,kBAAkBF,EAAMmJ,oBAGzCnB,EAASQ,GAAWjF,EAAMrD,OAAOkJ,MAAQ7F,EAAMrD,OAAOmJ,MAAS9F,EAAMrD,OAAO8C,KAAO0F,EAAQY,YAAa/F,EAAMrD,OAAOgJ,QACrHZ,EAAOG,GAAWlF,EAAMrD,OAAOqJ,IAAMhG,EAAMrD,OAAOsJ,QAAWjG,EAAMrD,OAAO8C,KAAO0F,EAAQO,aAAc1F,EAAMrD,OAAOgJ,UAKpHO,QAAQC,KAAM,gFACdnG,EAAM5B,WAAY,IAhCX,GAwCV,SAASgI,EAASC,GAEZrG,EAAMrD,kBAAkBF,EAAM4I,kBAElC1D,GAAS0E,EAEErG,EAAMrD,kBAAkBF,EAAMmJ,oBAEzC5F,EAAMrD,OAAO8C,KAAO/B,KAAK6D,IAAKvB,EAAM1C,QAASI,KAAK8D,IAAKxB,EAAMzC,QAASyC,EAAMrD,OAAO8C,KAAO4G,IAC1FrG,EAAMrD,OAAOuD,yBACb+B,GAAc,IAIdiE,QAAQC,KAAM,uFACdnG,EAAMhC,YAAa,GAMrB,SAASsI,EAAUD,GAEbrG,EAAMrD,kBAAkBF,EAAM4I,kBAElC1D,GAAS0E,EAEErG,EAAMrD,kBAAkBF,EAAMmJ,oBAEzC5F,EAAMrD,OAAO8C,KAAO/B,KAAK6D,IAAKvB,EAAM1C,QAASI,KAAK8D,IAAKxB,EAAMzC,QAASyC,EAAMrD,OAAO8C,KAAO4G,IAC1FrG,EAAMrD,OAAOuD,yBACb+B,GAAc,IAIdiE,QAAQC,KAAM,uFACdnG,EAAMhC,YAAa,GA8PrB,SAASyE,EAAa8D,GAErB,IAAuB,IAAlBvG,EAAMhD,QAAX,CAIA,GAFAuJ,EAAMC,iBAEDD,EAAME,SAAWzG,EAAMlB,aAAaC,MAAQ,CAEhD,IAA4B,IAAvBiB,EAAM9B,aAAyB,QA5PtC,SAAgCqI,GAI/B5C,EAAY3B,IAAKuE,EAAMG,QAASH,EAAMI,SA0PrCC,CAAuBL,GAEvBjG,EAAQC,EAAM8C,YAER,GAAKkD,EAAME,SAAWzG,EAAMlB,aAAaG,KAAO,CAEtD,IAA0B,IAArBe,EAAMhC,WAAuB,QA5PpC,SAA+BuI,GAI9BrC,EAAWlC,IAAKuE,EAAMG,QAASH,EAAMI,SA0PpCE,CAAsBN,GAEtBjG,EAAQC,EAAM+C,WAER,GAAKiD,EAAME,SAAWzG,EAAMlB,aAAaK,IAAM,CAErD,IAAyB,IAApBa,EAAM5B,UAAsB,QA5PnC,SAA6BmI,GAI5BxC,EAAS/B,IAAKuE,EAAMG,QAASH,EAAMI,SA0PlCG,CAAoBP,GAEpBjG,EAAQC,EAAMpB,IAIVmB,IAAUC,EAAMC,OAEpBzD,SAASgK,iBAAkB,YAAajE,GAAa,GACrD/F,SAASgK,iBAAkB,UAAWhE,GAAW,GAEjD/C,EAAMG,cAAegD,KAMvB,SAASL,EAAayD,GAErB,IAAuB,IAAlBvG,EAAMhD,QAIX,GAFAuJ,EAAMC,iBAEDlG,IAAUC,EAAM8C,OAAS,CAE7B,IAA4B,IAAvBrD,EAAM9B,aAAyB,QA/QtC,SAAgCqI,GAI/B1C,EAAU7B,IAAKuE,EAAMG,QAASH,EAAMI,SACpC7C,EAAYkD,WAAYnD,EAAWF,GAEnC,IAAIwB,EAAUnF,EAAMpD,aAAeG,SAAWiD,EAAMpD,WAAWwI,KAAOpF,EAAMpD,WAG5EyE,EAAY,EAAI3D,KAAKC,GAAKmG,EAAYmD,EAAI9B,EAAQY,YAAc/F,EAAM7B,aAGtEqG,EAAU,EAAI9G,KAAKC,GAAKmG,EAAYoD,EAAI/B,EAAQO,aAAe1F,EAAM7B,aAErEwF,EAAY1D,KAAM4D,GAElB7D,EAAMK,SAgQL8G,CAAuBZ,QAEjB,GAAKjG,IAAUC,EAAM+C,MAAQ,CAEnC,IAA0B,IAArBtD,EAAMhC,WAAuB,QAhQpC,SAA+BuI,GAI9BpC,EAASnC,IAAKuE,EAAMG,QAASH,EAAMI,SAEnCvC,EAAW4C,WAAY7C,EAAUD,GAE5BE,EAAW8C,EAAI,EAEnBd,EAAS/B,KAEED,EAAW8C,EAAI,GAE1BZ,EAAUjC,KAIXH,EAAWjE,KAAMkE,GAEjBnE,EAAMK,SA8OL+G,CAAsBb,QAEhB,GAAKjG,IAAUC,EAAMpB,IAAM,CAEjC,IAAyB,IAApBa,EAAM5B,UAAsB,QA9OnC,SAA6BmI,GAI5BvC,EAAOhC,IAAKuE,EAAMG,QAASH,EAAMI,SAEjC1C,EAAS+C,WAAYhD,EAAQD,GAE7BiB,EAAKf,EAASgD,EAAGhD,EAASiD,GAE1BnD,EAAS9D,KAAM+D,GAEfhE,EAAMK,SAoOLgH,CAAoBd,IAMtB,SAASxD,EAAWwD,IAEI,IAAlBvG,EAAMhD,UAIXD,SAASwF,oBAAqB,YAAaO,GAAa,GACxD/F,SAASwF,oBAAqB,UAAWQ,GAAW,GAEpD/C,EAAMG,cAAeiD,GAErB9C,EAAQC,EAAMC,MAIf,SAASkC,EAAc6D,IAEC,IAAlBvG,EAAMhD,UAA0C,IAArBgD,EAAMhC,YAA0BsC,IAAUC,EAAMC,MAAQF,IAAUC,EAAM8C,SAExGkD,EAAMC,iBACND,EAAMe,kBApPP,SAA2Bf,GAIrBA,EAAMrB,OAAS,EAEnBoB,EAAUjC,KAECkC,EAAMrB,OAAS,GAE1BkB,EAAS/B,KAIVrE,EAAMK,SAwONkH,CAAkBhB,GAElBvG,EAAMG,cAAegD,GACrBnD,EAAMG,cAAeiD,IAItB,SAASH,EAAWsD,IAEI,IAAlBvG,EAAMhD,UAA0C,IAArBgD,EAAMxB,aAA4C,IAApBwB,EAAM5B,WA7OrE,SAAwBmI,GAIvB,OAASA,EAAMiB,SAEd,KAAKxH,EAAMvB,KAAKE,GACfqG,EAAK,EAAGhF,EAAM3B,aACd2B,EAAMK,SACN,MAED,KAAKL,EAAMvB,KAAKI,OACfmG,EAAK,GAAKhF,EAAM3B,aAChB2B,EAAMK,SACN,MAED,KAAKL,EAAMvB,KAAKC,KACfsG,EAAKhF,EAAM3B,YAAa,GACxB2B,EAAMK,SACN,MAED,KAAKL,EAAMvB,KAAKG,MACfoG,GAAOhF,EAAM3B,YAAa,GAC1B2B,EAAMK,UAwNRoH,CAAelB,GAIhB,SAAS5D,EAAc4D,GAEtB,IAAuB,IAAlBvG,EAAMhD,QAAX,CAEA,OAASuJ,EAAMmB,QAAQnC,QAEtB,KAAK,EAEJ,IAA4B,IAAvBvF,EAAM9B,aAAyB,QA7NvC,SAAiCqI,GAIhC5C,EAAY3B,IAAKuE,EAAMmB,QAAS,GAAIC,MAAOpB,EAAMmB,QAAS,GAAIE,OA2N5DC,CAAwBtB,GAExBjG,EAAQC,EAAMgD,aAEd,MAED,KAAK,EAEJ,IAA0B,IAArBvD,EAAMhC,WAAuB,QA/NrC,SAAgCuI,GAI/B,IAAIuB,EAAKvB,EAAMmB,QAAS,GAAIC,MAAQpB,EAAMmB,QAAS,GAAIC,MACnDI,EAAKxB,EAAMmB,QAAS,GAAIE,MAAQrB,EAAMmB,QAAS,GAAIE,MAEnDjD,EAAWjH,KAAKsK,KAAMF,EAAKA,EAAKC,EAAKA,GAEzC7D,EAAWlC,IAAK,EAAG2C,GAwNjBsD,CAAuB1B,GAEvBjG,EAAQC,EAAMiD,YAEd,MAED,KAAK,EAEJ,IAAyB,IAApBxD,EAAM5B,UAAsB,QA5NpC,SAA8BmI,GAI7BxC,EAAS/B,IAAKuE,EAAMmB,QAAS,GAAIC,MAAOpB,EAAMmB,QAAS,GAAIE,OA0NzDM,CAAqB3B,GAErBjG,EAAQC,EAAMkD,UAEd,MAED,QAECnD,EAAQC,EAAMC,KAIXF,IAAUC,EAAMC,MAEpBR,EAAMG,cAAegD,IAMvB,SAASN,EAAa0D,GAErB,IAAuB,IAAlBvG,EAAMhD,QAKX,OAHAuJ,EAAMC,iBACND,EAAMe,kBAEGf,EAAMmB,QAAQnC,QAEtB,KAAK,EAEJ,IAA4B,IAAvBvF,EAAM9B,aAAyB,OACpC,GAAKoC,IAAUC,EAAMgD,aAAe,QAtPvC,SAAgCgD,GAI/B1C,EAAU7B,IAAKuE,EAAMmB,QAAS,GAAIC,MAAOpB,EAAMmB,QAAS,GAAIE,OAC5D9D,EAAYkD,WAAYnD,EAAWF,GAEnC,IAAIwB,EAAUnF,EAAMpD,aAAeG,SAAWiD,EAAMpD,WAAWwI,KAAOpF,EAAMpD,WAG5EyE,EAAY,EAAI3D,KAAKC,GAAKmG,EAAYmD,EAAI9B,EAAQY,YAAc/F,EAAM7B,aAGtEqG,EAAU,EAAI9G,KAAKC,GAAKmG,EAAYoD,EAAI/B,EAAQO,aAAe1F,EAAM7B,aAErEwF,EAAY1D,KAAM4D,GAElB7D,EAAMK,SAuOJ8H,CAAuB5B,GAEvB,MAED,KAAK,EAEJ,IAA0B,IAArBvG,EAAMhC,WAAuB,OAClC,GAAKsC,IAAUC,EAAMiD,YAAc,QA1OtC,SAA+B+C,GAI9B,IAAIuB,EAAKvB,EAAMmB,QAAS,GAAIC,MAAQpB,EAAMmB,QAAS,GAAIC,MACnDI,EAAKxB,EAAMmB,QAAS,GAAIE,MAAQrB,EAAMmB,QAAS,GAAIE,MAEnDjD,EAAWjH,KAAKsK,KAAMF,EAAKA,EAAKC,EAAKA,GAEzC5D,EAASnC,IAAK,EAAG2C,GAEjBP,EAAW4C,WAAY7C,EAAUD,GAE5BE,EAAW8C,EAAI,EAEnBZ,EAAUjC,KAECD,EAAW8C,EAAI,GAE1Bd,EAAS/B,KAIVH,EAAWjE,KAAMkE,GAEjBnE,EAAMK,SAmNJ+H,CAAsB7B,GAEtB,MAED,KAAK,EAEJ,IAAyB,IAApBvG,EAAM5B,UAAsB,OACjC,GAAKkC,IAAUC,EAAMkD,UAAY,QAtNpC,SAA6B8C,GAI5BvC,EAAOhC,IAAKuE,EAAMmB,QAAS,GAAIC,MAAOpB,EAAMmB,QAAS,GAAIE,OAEzD3D,EAAS+C,WAAYhD,EAAQD,GAE7BiB,EAAKf,EAASgD,EAAGhD,EAASiD,GAE1BnD,EAAS9D,KAAM+D,GAEfhE,EAAMK,SA4MJgI,CAAoB9B,GAEpB,MAED,QAECjG,EAAQC,EAAMC,MAMjB,SAASoC,EAAY2D,IAEG,IAAlBvG,EAAMhD,UAIXgD,EAAMG,cAAeiD,GAErB9C,EAAQC,EAAMC,MAIf,SAASgC,EAAe+D,GAEvBA,EAAMC,iBAMPxG,EAAMpD,WAAWmK,iBAAkB,cAAevE,GAAe,GAEjExC,EAAMpD,WAAWmK,iBAAkB,YAAatE,GAAa,GAC7DzC,EAAMpD,WAAWmK,iBAAkB,QAASrE,GAAc,GAE1D1C,EAAMpD,WAAWmK,iBAAkB,aAAcpE,GAAc,GAC/D3C,EAAMpD,WAAWmK,iBAAkB,WAAYnE,GAAY,GAC3D5C,EAAMpD,WAAWmK,iBAAkB,YAAalE,GAAa,GAE7DG,OAAO+D,iBAAkB,UAAW9D,GAAW,GAI/CpG,KAAKwD,SAoIN,OAhIA3D,EAAc4L,UAAYC,OAAOC,OAAQ/L,EAAMgM,gBAAgBH,WAC/D5L,EAAc4L,UAAUI,YAAchM,EAEtC6L,OAAOI,iBAAkBjM,EAAc4L,UAAW,CAEjDM,OAAQ,CAEPC,IAAK,WAGJ,OADA3C,QAAQC,KAAM,4DACPtJ,KAAKI,SAQd6L,OAAQ,CAEPD,IAAK,WAGJ,OADA3C,QAAQC,KAAM,+EACLtJ,KAAKmB,YAIfgE,IAAK,SAAW+G,GAEf7C,QAAQC,KAAM,8EACdtJ,KAAKmB,YAAe+K,IAMtBC,SAAU,CAETH,IAAK,WAGJ,OADA3C,QAAQC,KAAM,mFACLtJ,KAAKqB,cAIf8D,IAAK,SAAW+G,GAEf7C,QAAQC,KAAM,kFACdtJ,KAAKqB,cAAiB6K,IAMxBE,MAAO,CAENJ,IAAK,WAGJ,OADA3C,QAAQC,KAAM,6EACLtJ,KAAKuB,WAIf4D,IAAK,SAAW+G,GAEf7C,QAAQC,KAAM,4EACdtJ,KAAKuB,WAAc2K,IAMrBG,OAAQ,CAEPL,IAAK,WAGJ,OADA3C,QAAQC,KAAM,+EACLtJ,KAAK2B,YAIfwD,IAAK,SAAW+G,GAEf7C,QAAQC,KAAM,8EACdtJ,KAAK2B,YAAeuK,IAMtBI,aAAe,CAEdN,IAAK,WAGJ,OADA3C,QAAQC,KAAM,wFACLtJ,KAAKiB,eAIfkE,IAAK,SAAW+G,GAEf7C,QAAQC,KAAM,uFACdtJ,KAAKiB,eAAkBiL,IAMzBK,qBAAuB,CAEtBP,IAAK,WAGJ,OADA3C,QAAQC,KAAM,4FACPtJ,KAAKkB,eAIbiE,IAAK,SAAW+G,GAEf7C,QAAQC,KAAM,4FACdtJ,KAAKkB,cAAgBgL,MAQjBrM,I,+BC1/BR,kCAYoB2M,QACW,cAA7BrG,OAAOsG,SAASC,UAEe,UAA7BvG,OAAOsG,SAASC,UAEhBvG,OAAOsG,SAASC,SAASC,MACvB,2DAgHC,SAASC,IACV,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaL,gBAEdM,OAAM,SAAAC,GACL9D,QAAQ8D,MAAMA,EAAMC,c,kBCzI5B1N,EAAOC,QAAU,IAA0B,gC,8GC2BvC0N,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,E,oEC7BAC,EA4BwB,SAAWC,EAAUC,GAI/C,IAFA,IAAIC,EAAQ,IAAIC,QAENC,EAAI,EAAGC,EAAIJ,EAAUzF,OAAQ4F,EAAIC,EAAGD,IAE7CF,EAAMrJ,IAAK,IAAIyJ,OAAMN,EAAUC,EAAWG,KAI3C,OAAOF,GD3CHvO,E,MAAgB4O,GAAmB7O,GACrC8O,EAAgB,CAClBC,SAAU,CACR/K,OAAQ,CAAEyC,KAAM,IAAK6F,MAAO,IAC5B0C,MAAO,CAAEvI,KAAM,KAAM6F,MAAO,IAAItM,QAAY,YAC5CiP,MAAO,CAAExI,KAAM,IAAK6F,MAAO,IAE7B4C,aAAc,CACZ,wBACA,gBACA,0EACA,0CACA,KACAC,KAAK,MACPC,eAAgB,CACd,sBACA,uBACA,gBACA,yCACA,KACAD,KAAK,OAgBF,SAASE,IACd,IAAIC,EAAYhP,SAASiP,eAAe,cAExCrB,EAAW,IAAIlO,gBAAoB,CAAEwP,WAAW,KACvCC,cAAclJ,OAAOmJ,kBAC9BxB,EAASyB,QAAQpJ,OAAOqJ,WAAYrJ,OAAOsJ,aAC3CP,EAAUQ,YAAY5B,EAAS/N,YAC/B+N,EAAS/N,WAAW4P,MAAMC,OAAS,WAEnChC,EAAS,IAAIhO,oBAAwB,GAAIuG,OAAOqJ,WAAarJ,OAAOsJ,YAAa,GAAI,MAC9E/M,SAASyC,IAAI,GAAI,EAAG,IAE3BkI,EAAW,IAAIxN,EAAc+N,EAAQE,EAAS/N,aACrCK,OAAOiK,EAAI,EACpBgD,EAASpM,eAAgB,EACzBoM,EAASlN,SAAU,GAEnB4N,EAAQ,IAAInO,SACNiQ,WAAa,IAAIjQ,QAAY,OACnCmO,EAAM+B,IAAM,IAAIlQ,MAAUmO,EAAM8B,WAAY,GAAI,IAEhD,IAAIE,EAAS,IAAInQ,eAAmB,SACpCmO,EAAMhJ,IAAIgL,GAEV,IAAIC,EAAU,IAAIpQ,mBAAuB,SAAU,IACnDoQ,EAAQtN,SAASyC,IAAI,GAAK,EAAG,GAC7B4I,EAAMhJ,IAAIiL,GAGV1C,EAAc,IAAI1N,QAClBmO,EAAMhJ,IAAIuI,GAEV,IAAI2C,EAAS,IAAIrQ,QACjBqQ,EAAOvN,SAAS2H,GAAK,IACrBiD,EAAYvI,IAAIkL,GAIhB,IAAIC,EAAS,GACbA,EAAOC,KAAK,IAAIvQ,UAAc,EAAG,IACjC,IAAK,IAAI0O,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAI8B,EAAQ,IAAIxQ,UACiB,EAA7BiB,KAAKwP,IAAQ,KAAJ/B,EAAY,KACjB,EAAJA,GAEJ4B,EAAOC,KAAKC,GAGdF,EAAOC,KAAK,IAAIvQ,UAAc,EAAG,KAEjC,IAAI0Q,EAAY,IAAI1Q,gBAAoBsQ,EAAQ,IAE5CK,EAAY,IAAI3Q,mBAAuB,CACzCgP,MAAO,SACP4B,UAAW,IAGTC,EAAmB,IAAI7Q,iBAAqB,CAC9C+O,SAAU/O,gBAAoB4C,MAAMkM,EAAcC,UAClDG,aAAcJ,EAAcI,aAC5BE,eAAgBN,EAAcM,eAC9B0B,KAAM9Q,aAGJ+Q,EAAY1C,EACdqC,EAAW,CAACC,EAAWE,IAEzBE,EAAU7L,MAAM8L,UAAU,IAC1BX,EAAOlL,IAAI4L,GAGX,IAAIE,EAAY,IAAIjR,yBAA6B,IAAM,IAAM,IAAK,IAC9DkR,EAAY,IAAIlR,mBAAuB,CAAEgP,MAAO,UAChDmC,EAAmBN,EAAiBjO,QACxCuO,EAAiBpC,SAAS/K,OAAOsI,MAAQ,IACzC,IAAI8E,EAAS/C,EACX4C,EAAW,CAACC,EAAWC,IAEzBC,EAAOtO,SAAS2H,EAAI,EACpB2G,EAAOC,SAAS7G,EAAIvJ,KAAKC,GAAK,EAC9BmP,EAAOlL,IAAIiM,GAGX,IAAIE,EAAS,IAAItR,QACjBsR,EAAOC,OAAO,EAAG,EAAG,IAAK,EAAa,EAAVtQ,KAAKC,IAEjC,IAAIsQ,EAAO,IAAIxR,OACfwR,EAAKD,OAAO,EAAG,EAAG,EAAG,EAAa,EAAVtQ,KAAKC,IAC7BoQ,EAAOG,MAAMlB,KAAKiB,GAElB,IAKIE,EAAU,IAAI1R,kBAAsBsR,EALd,CACxBK,OAAQ,GACRC,MAAO,EACPC,cAAc,IAGhBH,EAAQI,uBACRJ,EAAQvF,SACR,IAAI4F,EAAU,IAAI/R,mBAAuB,CACvCgP,MAAO,SACP4B,UAAW,IAEToB,EAAiBnB,EAAiBjO,QACtCoP,EAAejD,SAAS/K,OAAOsI,MAAQ,GACvC,IAAI2F,EAAO5D,EACTqD,EAAS,CAACK,EAASC,IAErBC,EAAKnP,SAAS2H,EAAI,EAClBwH,EAAK/M,MAAM8L,UAAU,IACrBX,EAAOlL,IAAI8M,GAKX,IAAIC,EAAQ,IAAIlS,QAEhBkS,EAAMC,OAAO,EAAG,GAChBD,EAAME,iBAAiB,IAAK,EAAG,IAAK,IACpCF,EAAME,iBAAiB,IAAK,GAAI,GAAI,IACpCF,EAAMG,OAAO,EAAG,GAEhB,IASIC,EAAY,IAAItS,QACpBqQ,EAAOlL,IAAImN,GAEX,IAAIC,EAAU,IAAIvS,kBAAsBkS,EAZlB,CACpBN,MAAO,EACPD,OAAQ,EACRE,cAAc,EACdW,eAAgB,EAChBC,UAAW,EACXC,cAAe,IAOjBH,EAAQT,uBACR,IAAIa,EAAU,IAAI3S,mBAAuB,CACvCgP,MAAO,SACP4B,UAAW,IAETgC,EAAiB/B,EAAiBjO,QACtCgQ,EAAe7D,SAAS/K,OAAOsI,MAAQ,EACvC,IAAIuG,EAAOxE,EACTkE,EAAS,CAACI,EAASC,IAErBC,EAAK3N,MAAM8L,UAAU,KACrB6B,EAAK/P,SAASyC,IAAI,GAAI,GAAK,GAC3B+M,EAAUnN,IAAI0N,GAEd,IAAIC,EAAQR,EAAU1P,QACtBkQ,EAAMzB,SAAS5G,EAAIxJ,KAAKC,GACxBmP,EAAOlL,IAAI2N,GAEX,IAAIC,EAAQT,EAAU1P,QACtBmQ,EAAM1B,SAAS5G,EAAIxJ,KAAKC,GAAK,EAC7BmP,EAAOlL,IAAI4N,GAEX,IAAIC,EAAQV,EAAU1P,QACtBoQ,EAAM3B,SAAS5G,GAAKxJ,KAAKC,GAAK,EAC9BmP,EAAOlL,IAAI6N,GAMXrF,EAAO,IAAIsF,EAAU,CACnBjE,MAAO,SACPkE,KAAM,GACNC,OAAQ,GACRC,OAAQ,IACRC,WAAY,KAEdhD,EAAOlL,IAAIwI,GAGXC,EAAQ,IAAIqF,EAAU,CACpBjE,MAAO,SACPkE,KAAM,GACNC,OAAQ,KAEV9C,EAAOlL,IAAIyI,IAGXC,EAAQ,IAAIoF,EAAU,CACpBjE,MAAO,SACPkE,KAAM,GACNC,OAAQ,GACRC,OAAQ,GACRC,WAAY,IAEZC,MAAO,MAGHhD,OAAOxN,SAAS2H,EAAI,EAC1B0D,EAAMhJ,IAAI0I,GAGVE,EAAQ,IAAI/N,QAAY,IAAIA,UAAc,EAAG,EAAG,GAAI,GAIpD8N,EAAe,IAAI9N,WAEnBiO,EAAe,IAAIjO,WACNwD,KAAKwK,EAAOlL,UAEzBsL,EAAe,IAAIpO,OACjB,IAAIA,uBAA4B,IAChC,IAAIA,oBAAwB,CAAEgP,MAAO,SAGvCb,EAAMhJ,IAAIiJ,GAGVF,EAAS/N,WAAWmK,iBAAiB,YAAaiJ,GAAW,GAC7DrF,EAAS/N,WAAWmK,iBAAiB,YAAakJ,GAAW,GAC7DjN,OAAO+D,iBAAiB,SAAUmJ,GAAQ,GAO5C,IAAIR,EAAY,SAAUS,GAExB,IAAI1E,EAAQ5O,KAAK4O,MAAQ0E,EAAQ1E,OAAS,QACtCkE,EAAO9S,KAAK8S,KAAOQ,EAAQR,MAAQ,GAEnCG,EAAajT,KAAKiT,WAAaK,EAAQL,YAAc,GACrDD,EAAShT,KAAKgT,OAASM,EAAQN,QAAU,EACzCD,EAAS/S,KAAK+S,OAASO,EAAQP,QAAU,EAEzCG,EAAQlT,KAAKkT,MAAQlT,KAAKuT,YAAcD,EAAQJ,OAAS,KAE7DtT,QAAY4T,KAAKxT,MAIjB,IAAIyT,EAASvT,SAASwT,cAAc,UACpCD,EAAOE,MAAQF,EAAOG,OAAS,IAC/B,IAAIC,EAAMJ,EAAOK,WAAW,MAExBC,EAAUN,EAAOE,MAAQ,EACzBK,EAAUP,EAAOG,OAAS,EAC1B/O,EAAS4O,EAAOE,MAAQ,EAE5BE,EAAII,YACJJ,EAAIK,IAAIH,EAASC,EAASnP,EAAQ,EAAG,EAAIhE,KAAKC,IAAI,GAClD+S,EAAIM,UAAY,OAChBN,EAAIO,OAEJ,IAAIC,EAAU,IAAIzU,UAAc6T,GAChCY,EAAQC,kBAAmB,EAC3BD,EAAQE,aAAc,EAatB,IATA,IAAIC,EAAY,IAAI5U,WAChB6U,EAAY,IAAI7U,iBAAqB,CACrCgP,MAAOA,EACPkE,KAAMA,EACN4B,IAAKL,EACLM,aAAa,EACbC,YAAY,IAGPC,EAAI,EAAGA,EAAI5B,EAAY4B,IAAK,CAEjC,IAAIzE,EAAQ,IAAIxQ,UACZA,OAAWkV,gBAAgB/B,GAC3BnT,OAAWkV,gBAAgB9B,GAC3BpT,OAAWkV,gBAAgB/B,IAG/B3C,EAAM2E,SAAW,IAAInV,UAAc,GAAIiB,KAAKmU,SAAW9B,EAAQ,IAAK,GAEpEsB,EAAUS,SAAS9E,KAAKC,GAG5B,IAAIF,EAASlQ,KAAKkQ,OAAS,IAAItQ,SAAa4U,EAAWC,GACvDvE,EAAOxN,SAAS2H,GAAK2I,EAAS,EAC9B9C,EAAOgF,eAAgB,EAEvBlV,KAAK+E,IAAImL,IAIX2C,EAAUpH,UAAYC,OAAOC,OAAO/L,QAAY6L,WAChDoH,EAAUpH,UAAUI,YAAcgH,EAElCA,EAAUpH,UAAUjI,OAAS,WAI3B,IADA,IAAI2R,EAASnV,KAAKiT,WACXkC,KAAU,CAEb,IAAI/E,EAAQpQ,KAAKkQ,OAAOhC,SAAS+G,SAASE,GAGtC/E,EAAM/F,GAAKrK,KAAKgT,OAAS,IACzB5C,EAAM/F,EAAIrK,KAAKgT,OAAS,EACxB5C,EAAM2E,SAAS1K,EAAI,GAIvB+F,EAAM2E,SAAS1K,GAAKxJ,KAAKmU,SAAWhV,KAAKkT,MAGzC9C,EAAMrL,IAAIqL,EAAM2E,UAGpB/U,KAAKkQ,OAAOhC,SAASkH,oBAAqB,GAG5CvC,EAAUpH,UAAU4J,eAAiB,WAEnC,IADA,IAAIF,EAASnV,KAAKiT,WACXkC,KAAU,CAEb,IAAI/E,EAAQpQ,KAAKkQ,OAAOhC,SAAS+G,SAASE,GAGtC/E,EAAM/F,GAAKrK,KAAKgT,OAAS,IACzB5C,EAAM/F,EAAIrK,KAAKgT,OAAS,GAG5B5C,EAAM/F,GAAKrK,KAAKkT,MAGpBlT,KAAKkQ,OAAOhC,SAASkH,oBAAqB,GAM5C,IAAIE,EAAY,IAAI1V,YAChB2V,EAAQ,IAAI3V,UAEhB,SAASuT,EAAUqC,GACjBD,EAAMnL,EAAKoL,EAAE3L,QAAU1D,OAAOqJ,WAAc,EAAI,EAChD+F,EAAMlL,GAAMmL,EAAE1L,QAAU3D,OAAOsJ,YAAe,EAAI,EAElD5B,EAAazD,EAAe,GAAVmL,EAAMnL,EACxByD,EAAa4H,EAAI,EAAc,EAAVF,EAAMlL,EAE3BiL,EAAUI,cAAcH,EAAO3H,GAC/B0H,EAAUK,IAAIC,eAAejI,EAAOD,GACpCM,EAAatL,SAASU,KAAMsK,GAG9B,SAAS0F,EAAUoC,GAAI,IACbK,EAAmBL,EAAnBK,eACDC,EAFa,YAEJD,EAFI,MAGZhM,EAAqBiM,EAArBjM,QAASC,EAAYgM,EAAZhM,QAEjByL,EAAMnL,EAAKP,EAAU1D,OAAOqJ,WAAc,EAAI,EAC9C+F,EAAMlL,GAAMP,EAAU3D,OAAOsJ,YAAe,EAAI,EAEhD5B,EAAazD,EAAe,GAAVmL,EAAMnL,EACxByD,EAAa4H,EAAI,EAAc,EAAVF,EAAMlL,EAE3BiL,EAAUI,cAAcH,EAAO3H,GAC/B0H,EAAUK,IAAIC,eAAejI,EAAOD,GAGtC,SAAS2F,IACPzF,EAAOmI,OAAS5P,OAAOqJ,WAAarJ,OAAOsJ,YAC3C7B,EAAOvK,yBACPyK,EAASyB,QAAQpJ,OAAOqJ,WAAYrJ,OAAOsJ,aAI7C,IAAIuG,EAAQ,IAAIpW,QACZqW,EAAO,EACPvO,EAAQ9H,OAAWsW,SAAS,GAEzB,SAASC,IACdC,sBAAsBD,GAEtB9I,EAAS7J,SAETyS,GAAQD,EAAMK,WAEd/I,EAAY2D,SAAS5G,EAAIxJ,KAAKwP,IAAW,EAAP4F,GAAYvO,EAE9C6F,EAAK/J,SACLgK,EAAMhK,SAENiK,EAAM4H,iBAENiB,EAAKhJ,EAAY5K,SAAU,IAAKgL,EAAarD,GAC7CiM,EAAKhJ,EAAY5K,SAAU,IAAKgL,EAAatD,GAE7CkM,EAAK1I,EAAOlL,SAAU,IAAKmL,EAAazD,GACxCkM,EAAK1I,EAAOlL,SAAU,IAAKmL,EAAa4H,GAExCa,EAAK7I,EAAO,QAASA,EAAM8F,aAE3BzF,EAASyI,OAAOxI,EAAOH,GAGzB,SAAS0I,EAAKxW,EAAQ0W,EAAMC,GACtB3W,GAAUA,EAAO0W,KAAUC,IAC7B3W,EAAO0W,IAAwC,IAA9BC,EAAc3W,EAAO0W,IAElC3V,KAAK6V,IAAID,EAAc3W,EAAO0W,IAAS,MACzC1W,EAAO0W,GAAQC,IAKN,I,gBEzaAE,ICrBAA,EDCf,WAME,OALAC,qBAAU,WACR3H,IACAkH,MACC,IAGD,6BAASU,UAAU,sBACjB,yBAAKA,UAAU,2BACb,yBAAKC,IAAKC,IAAOC,IAAI,WACrB,yBAAKH,UAAU,gCACb,6EACA,wEAGJ,yBAAKI,GAAG,gBENCC,MATf,WAEE,OACE,6BAASL,UAAU,gBACjB,kBAAC,EAAD,Q,OCFNM,IAASZ,OACP,kBAAC,IAAMa,WAAP,KACE,kBAAC,EAAD,OAEFlX,SAASiP,eAAe,WAK1BrC,Q","file":"static/js/mobile.48abe484.chunk.js","sourcesContent":["module.exports = function( THREE ) {\n\t/**\n\t * @author qiao / https://github.com/qiao\n\t * @author mrdoob / http://mrdoob.com\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author erich666 / http://erichaines.com\n\t */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n\tfunction OrbitControls( object, domElement ) {\n\n\t\tthis.object = object;\n\n\t\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new THREE.Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t\t// Set to false to disable use of the keys\n\t\tthis.enableKeys = true;\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function() {\n\n\t\t\tvar offset = new THREE.Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\tvar lastPosition = new THREE.Vector3();\n\t\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\t\treturn function update () {\n\n\t\t\t\tvar position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t// restrict theta to be between desired limits\n\t\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function() {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tvar scope = this;\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\t\tvar state = STATE.NONE;\n\n\t\tvar EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tvar spherical = new THREE.Spherical();\n\t\tvar sphericalDelta = new THREE.Spherical();\n\n\t\tvar scale = 1;\n\t\tvar panOffset = new THREE.Vector3();\n\t\tvar zoomChanged = false;\n\n\t\tvar rotateStart = new THREE.Vector2();\n\t\tvar rotateEnd = new THREE.Vector2();\n\t\tvar rotateDelta = new THREE.Vector2();\n\n\t\tvar panStart = new THREE.Vector2();\n\t\tvar panEnd = new THREE.Vector2();\n\t\tvar panDelta = new THREE.Vector2();\n\n\t\tvar dollyStart = new THREE.Vector2();\n\t\tvar dollyEnd = new THREE.Vector2();\n\t\tvar dollyDelta = new THREE.Vector2();\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tvar panLeft = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tvar panUp = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tvar pan = function() {\n\n\t\t\tvar offset = new THREE.Vector3();\n\n\t\t\treturn function pan ( deltaX, deltaY ) {\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tvar position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\t//console.log( 'handleMouseDownPan' );\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\t//console.log( 'handleMouseMovePan' );\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseUp( event ) {\n\n\t\t\t//console.log( 'handleMouseUp' );\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\t//console.log( 'handleMouseWheel' );\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\t//console.log( 'handleKeyDown' );\n\n\t\t\tswitch ( event.keyCode ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate( event ) {\n\n\t\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly( event ) {\n\n\t\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartPan( event ) {\n\n\t\t\t//console.log( 'handleTouchStartPan' );\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\t//console.log( 'handleTouchMovePan' );\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleTouchEnd( event ) {\n\n\t\t\t//console.log( 'handleTouchEnd' );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleMouseUp( event );\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleTouchStartDolly( event );\n\n\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n\t\t\t\t\thandleTouchMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleTouchEnd( event );\n\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\t\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\t\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t};\n\n\tOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\tOrbitControls.prototype.constructor = OrbitControls;\n\n\tObject.defineProperties( OrbitControls.prototype, {\n\n\t\tcenter: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\t\treturn this.target;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// backward compatibility\n\n\t\tnoZoom: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\treturn ! this.enableZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\tthis.enableZoom = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoRotate: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\treturn ! this.enableRotate;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\tthis.enableRotate = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoPan: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\treturn ! this.enablePan;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\tthis.enablePan = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoKeys: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\treturn ! this.enableKeys;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\tthis.enableKeys = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tstaticMoving : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\treturn ! this.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\tthis.enableDamping = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdynamicDampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\treturn this.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\tthis.dampingFactor = value;\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\treturn OrbitControls;\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/bb.ec62a105.png\";","import * as THREE from 'three';\nimport threeOrbitControls from 'three-orbit-controls';\nimport { SceneUtils } from 'three/examples/jsm/utils/SceneUtils';\n\nconst OrbitControls = threeOrbitControls(THREE);\nvar OutlineShader = {\n  uniforms: {\n    offset: { type: 'f', value: 0.3 },\n    color: { type: 'v3', value: new THREE.Color('#000000') },\n    alpha: { type: 'f', value: 1.0 }\n  },\n  vertexShader: [\n    \"uniform float offset;\",\n    \"void main() {\",\n    \"  vec4 pos = modelViewMatrix * vec4( position + normal * offset, 1.0 );\",\n    \"  gl_Position = projectionMatrix * pos;\",\n    \"}\"\n  ].join('\\n'),\n  fragmentShader: [\n    \"uniform vec3 color;\",\n    \"uniform float alpha;\",\n    \"void main() {\",\n    \"  gl_FragColor = vec4( color, alpha );\",\n    \"}\"\n  ].join('\\n')\n};\n\nvar controls;\nvar rocketGroup;\nvar fire;\nvar fire2;\nvar stars;\nvar rocketTarget;\nvar plane;\nvar camera;\nvar cameraTarget;\nvar renderer;\nvar scene;\nvar targetSphere;\n\nexport function init() {\n  var container = document.getElementById('container');\n  \n  renderer = new THREE.WebGLRenderer({ antialias: true });\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  container.appendChild(renderer.domElement);\n  renderer.domElement.style.cursor = 'pointer';\n  // camera\n  camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, .1, 100000);\n  camera.position.set(0, -6, 3);\n  // controls\n  controls = new OrbitControls(camera, renderer.domElement);\n  controls.target.y = 1;\n  controls.enableDamping = true;\n  controls.enabled = false;\n  // scene\n  scene = new THREE.Scene();\n  scene.background = new THREE.Color(0x01374b);\n  scene.fog = new THREE.Fog(scene.background, 10, 20);\n  // lights\n  var aLight = new THREE.AmbientLight(0x555555);\n  scene.add(aLight);\n  \n  var dLight1 = new THREE.DirectionalLight(0xffffff, 0.4);\n  dLight1.position.set(0.7, 1, 1);\n  scene.add(dLight1);\n\n  // -------------------------------------------\n  rocketGroup = new THREE.Group();\n  scene.add(rocketGroup);\n  \n  var rocket = new THREE.Group();\n  rocket.position.y = -1.5; // vertically center\n  rocketGroup.add(rocket);\n  // -------------------------------------------\n\n  // body\n  var points = [];\n  points.push(new THREE.Vector2(0, 0)); // bottom\n  for (var i = 0; i < 11; i++) {\n    var point = new THREE.Vector2(\n        Math.cos(i * 0.227 - 0.75) * 8,\n        i * 4.0\n    );\n    points.push(point);\n  }\n  \n  points.push(new THREE.Vector2(0, 40)); // tip\n  \n  var rocketGeo = new THREE.LatheGeometry(points, 32);\n  \n  var rocketMat = new THREE.MeshToonMaterial({\n    color: 0xcccccc,\n    shininess: 1\n  });\n  \n  var rocketOutlineMat = new THREE.ShaderMaterial({\n    uniforms: THREE.UniformsUtils.clone(OutlineShader.uniforms),\n    vertexShader: OutlineShader.vertexShader,\n    fragmentShader: OutlineShader.fragmentShader,\n    side: THREE.BackSide,\n  });\n  \n  var rocketObj = SceneUtils.createMultiMaterialObject(\n    rocketGeo, [rocketMat, rocketOutlineMat]\n  );\n  rocketObj.scale.setScalar(0.1);\n  rocket.add(rocketObj);\n  \n  // window\n  var portalGeo = new THREE.CylinderBufferGeometry(0.26, 0.26, 1.6, 32);\n  var portalMat = new THREE.MeshToonMaterial({ color: 0x90dcff });\n  var portalOutlineMat = rocketOutlineMat.clone();\n  portalOutlineMat.uniforms.offset.value = 0.03;\n  var portal = SceneUtils.createMultiMaterialObject(\n    portalGeo, [portalMat, portalOutlineMat]\n  );\n  portal.position.y = 2;\n  portal.rotation.x = Math.PI / 2;\n  rocket.add(portal);\n  // ------------\n  \n  var circle = new THREE.Shape();\n  circle.absarc(0, 0, 3.5, 0, Math.PI * 2);\n  \n  var hole = new THREE.Path();\n  hole.absarc(0, 0, 3, 0, Math.PI * 2);\n  circle.holes.push(hole);\n  \n  var tubeExtrudeSettings = {\n    amount: 17,\n    steps: 1,\n    bevelEnabled: false\n  };\n  var tubeGeo = new THREE.ExtrudeGeometry(circle, tubeExtrudeSettings);\n  tubeGeo.computeVertexNormals();\n  tubeGeo.center();\n  var tubeMat = new THREE.MeshToonMaterial({\n    color: 0xff0000,\n    shininess: 1\n  });\n  var tubeOutlineMat = rocketOutlineMat.clone();\n  tubeOutlineMat.uniforms.offset.value = 0.2;\n  var tube = SceneUtils.createMultiMaterialObject(\n    tubeGeo, [tubeMat, tubeOutlineMat]\n  );\n  tube.position.y = 2;\n  tube.scale.setScalar(0.1);\n  rocket.add(tube);\n  // -------------------------------------------\n  \n  // wing\n  \n  var shape = new THREE.Shape();\n  \n  shape.moveTo(3, 0);\n  shape.quadraticCurveTo(25, -8, 15, -37);\n  shape.quadraticCurveTo(13, -21, 0, -20);\n  shape.lineTo(3, 0);\n  \n  var extrudeSettings = {\n    steps: 1,\n    amount: 4,\n    bevelEnabled: true,\n    bevelThickness: 2,\n    bevelSize: 2,\n    bevelSegments: 5\n  };\n  \n  var wingGroup = new THREE.Group();\n  rocket.add(wingGroup);\n  \n  var wingGeo = new THREE.ExtrudeGeometry(shape, extrudeSettings);\n  wingGeo.computeVertexNormals();\n  var wingMat = new THREE.MeshToonMaterial({\n    color: 0xff0000,\n    shininess: 1,\n  });\n  var wingOutlineMat = rocketOutlineMat.clone();\n  wingOutlineMat.uniforms.offset.value = 1;\n  var wing = SceneUtils.createMultiMaterialObject(\n    wingGeo, [wingMat, wingOutlineMat]\n  );\n  wing.scale.setScalar(0.03);\n  wing.position.set(.6, 0.9, 0);\n  wingGroup.add(wing);\n  \n  var wing2 = wingGroup.clone();\n  wing2.rotation.y = Math.PI;\n  rocket.add(wing2);\n  \n  var wing3 = wingGroup.clone();\n  wing3.rotation.y = Math.PI / 2;\n  rocket.add(wing3);\n  \n  var wing4 = wingGroup.clone();\n  wing4.rotation.y = -Math.PI / 2;\n  rocket.add(wing4);\n  \n  // -------------------------------------------\n\n  // fire and stars particles\n  // orange\n  fire = new Particles({\n    color: 0xff5a00,\n    size: 0.4,\n    rangeH: 0.8,\n    rangeV: 2.5,\n    pointCount: 50\n  });\n  rocket.add(fire);\n\n  // yellow\n  fire2 = new Particles({\n    color: 0xffc000,\n    size: 0.6,\n    rangeH: 0.5\n  });\n  rocket.add(fire2);\n\n  // stars\n  stars = new Particles({\n    color: 0xffffff,\n    size: 0.6,\n    rangeH: 20,\n    rangeV: 20,\n    pointCount: 400,\n    // size: 0.2,\n    speed: 0.1\n  });\n\n  stars.points.position.y = 0;\n  scene.add(stars);\n\n  // input\n  plane = new THREE.Plane(new THREE.Vector3(0, 0, 1), 0);\n  // var helper = new THREE.PlaneHelper( plane, 5, 0xffff00 );\n  // scene.add( helper );\n\n  rocketTarget = new THREE.Vector3();\n\n  cameraTarget = new THREE.Vector3();\n  cameraTarget.copy(camera.position);\n\n  targetSphere = new THREE.Mesh(\n    new THREE.SphereBufferGeometry( 0.2 ),\n    new THREE.MeshPhongMaterial({ color: 0x00ff00 })\n  );\n  \n  scene.add(targetSphere);\n\n  // bind event\n  renderer.domElement.addEventListener('mousemove', mousemove, false);\n  renderer.domElement.addEventListener('touchmove', touchmove, false);\n  window.addEventListener('resize', resize, false);\n}\n\n// https://aerotwist.com/tutorials/creating-particles-with-three-js/\n// https://aerotwist.com/static/tutorials/creating-particles-with-three-js/demo/\n// downloads/paul-lewis-aerotwist/particles-r88\n\nvar Particles = function (options) {\n\n  var color = this.color = options.color || 0x333333;\n  var size = this.size = options.size || 0.4;\n\n  var pointCount = this.pointCount = options.pointCount || 40; // 1800\n  var rangeV = this.rangeV = options.rangeV || 2; // 600\n  var rangeH = this.rangeH = options.rangeH || 1;\n\n  var speed = this.speed = this.speedTarget = options.speed || 0.0005;\n\n  THREE.Group.call(this);\n\n  // circle texture\n\n  var canvas = document.createElement('canvas');\n  canvas.width = canvas.height = 128;\n  var ctx = canvas.getContext('2d');\n\n  var centerX = canvas.width / 2;\n  var centerY = canvas.height / 2;\n  var radius = canvas.width / 3;\n\n  ctx.beginPath();\n  ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\n  ctx.fillStyle = '#fff';\n  ctx.fill();\n\n  var texture = new THREE.Texture(canvas);\n  texture.premultiplyAlpha = true;\n  texture.needsUpdate = true;\n\n  //\n\n  var pointsGeo = new THREE.Geometry();\n  var pointsMat = new THREE.PointsMaterial({\n      color: color,\n      size: size,\n      map: texture,\n      transparent: true,\n      depthWrite: false\n  });\n\n  for (var p = 0; p < pointCount; p++) {\n\n      var point = new THREE.Vector3(\n          THREE.Math.randFloatSpread(rangeH),\n          THREE.Math.randFloatSpread(rangeV),\n          THREE.Math.randFloatSpread(rangeH)\n      );\n\n      point.velocity = new THREE.Vector3(0, -Math.random() * speed * 100, 0);\n\n      pointsGeo.vertices.push(point);\n  }\n\n  var points = this.points = new THREE.Points(pointsGeo, pointsMat);\n  points.position.y = -rangeV / 2;\n  points.sortParticles = true;\n\n  this.add(points);\n\n}\n\nParticles.prototype = Object.create(THREE.Group.prototype);\nParticles.prototype.constructor = Particles;\n\nParticles.prototype.update = function () {\n  // this.points.rotation.y -= 0.01; // 0.01\n\n  var pCount = this.pointCount;\n  while (pCount--) {\n\n      var point = this.points.geometry.vertices[pCount];\n\n      // check if we need to reset\n      if (point.y < -this.rangeV / 2) {\n          point.y = this.rangeV / 2;\n          point.velocity.y = 0;\n      }\n\n      // update the velocity\n      point.velocity.y -= Math.random() * this.speed; // .1\n\n      // and the position\n      point.add(point.velocity);\n  }\n\n  this.points.geometry.verticesNeedUpdate = true;\n}\n\nParticles.prototype.updateConstant = function () {\n  var pCount = this.pointCount;\n  while (pCount--) {\n\n      var point = this.points.geometry.vertices[pCount];\n\n      // check if we need to reset\n      if (point.y < -this.rangeV / 2) {\n          point.y = this.rangeV / 2;\n      }\n\n      point.y -= this.speed;\n  }\n\n  this.points.geometry.verticesNeedUpdate = true;\n}\n\n// var box = new THREE.BoxHelper( fire.points );\n// fire.add( box );\n\nvar raycaster = new THREE.Raycaster();\nvar mouse = new THREE.Vector2();\n\nfunction mousemove(e) {\n  mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n  mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;\n\n  cameraTarget.x = -mouse.x * 1;\n  cameraTarget.z = 3 + mouse.y * 1;\n\n  raycaster.setFromCamera(mouse, camera);\n  raycaster.ray.intersectPlane(plane, rocketTarget);\n  targetSphere.position.copy( rocketTarget );\n}\n\nfunction touchmove(e) {\n  const { changedTouches } = e;\n  const [touch] = changedTouches;\n  const { clientX, clientY } = touch;\n\n  mouse.x = (clientX / window.innerWidth) * 2 - 1;\n  mouse.y = -(clientY / window.innerHeight) * 2 + 1;\n\n  cameraTarget.x = -mouse.x * 1;\n  cameraTarget.z = 3 + mouse.y * 1;\n\n  raycaster.setFromCamera(mouse, camera);\n  raycaster.ray.intersectPlane(plane, rocketTarget);\n}\n\nfunction resize() {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n}\n\n// 循环动画\nvar clock = new THREE.Clock();\nvar time = 0;\nvar angle = THREE.Math.degToRad(3);\n\nexport function loop() {\n  requestAnimationFrame(loop);\n  // TWEEN.update();\n  controls.update();\n\n  time += clock.getDelta();\n\n  rocketGroup.rotation.y = Math.cos(time * 8) * angle;\n\n  fire.update();\n  fire2.update();\n\n  stars.updateConstant();\n\n  lerp(rocketGroup.position, 'y', rocketTarget.y);\n  lerp(rocketGroup.position, 'x', rocketTarget.x);\n\n  lerp(camera.position, 'x', cameraTarget.x);\n  lerp(camera.position, 'z', cameraTarget.z);\n\n  lerp(stars, 'speed', stars.speedTarget);\n\n  renderer.render(scene, camera);\n}\n\nfunction lerp(object, prop, destination) {\n  if (object && object[prop] !== destination) {\n    object[prop] += (destination - object[prop]) * 0.1;\n\n    if (Math.abs(destination - object[prop]) < 0.01) {\n      object[prop] = destination;\n    }\n  }\n}\n\nexport default {\n  init,\n  loop,\n}","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport {\n\tGroup,\n\tMesh\n} from \"../../../build/three.module.js\";\n\nvar SceneUtils = {\n\n\tcreateMeshesFromInstancedMesh: function ( instancedMesh ) {\n\n\t\tvar group = new Group();\n\n\t\tvar count = instancedMesh.count;\n\t\tvar geometry = instancedMesh.geometry;\n\t\tvar material = instancedMesh.material;\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tvar mesh = new Mesh( geometry, material );\n\n\t\t\tinstancedMesh.getMatrixAt( i, mesh.matrix );\n\t\t\tmesh.matrix.decompose( mesh.position, mesh.quaternion, mesh.scale );\n\n\t\t\tgroup.add( mesh );\n\n\t\t}\n\n\t\tgroup.copy( instancedMesh );\n\t\tgroup.updateMatrixWorld(); // ensure correct world matrices of meshes\n\n\t\treturn group;\n\n\t},\n\n\tcreateMultiMaterialObject: function ( geometry, materials ) {\n\n\t\tvar group = new Group();\n\n\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\n\n\t\t\tgroup.add( new Mesh( geometry, materials[ i ] ) );\n\n\t\t}\n\n\t\treturn group;\n\n\t},\n\n\tdetach: function ( child, parent, scene ) {\n\n\t\tconsole.warn( 'THREE.SceneUtils: detach() has been deprecated. Use scene.attach( child ) instead.' );\n\n\t\tscene.attach( child );\n\n\t},\n\n\tattach: function ( child, scene, parent ) {\n\n\t\tconsole.warn( 'THREE.SceneUtils: attach() has been deprecated. Use parent.attach( child ) instead.' );\n\n\t\tparent.attach( child );\n\n\t}\n\n};\n\nexport { SceneUtils };\n","import React, { useRef, useEffect, useContext } from 'react';\nimport { init, loop } from 'src/three/rocket';\nimport bbPic from 'src/assets/bb.png';\n\nfunction Prompt() {\n  useEffect(() => {\n    init();\n    loop();\n  }, []);\n\n  return (\n    <article className=\"mobile-page-prompt\">\n      <div className=\"mobile-page-prompt_head\">\n        <img src={bbPic} alt=\"avatar\"/>\n        <div className=\"mobile-page-prompt_head--tip\">\n          <div>请在pc端打开链接</div>\n          <div>让我们出发吧~</div>\n        </div>\n      </div>\n      <div id=\"container\"></div>\n    </article>\n  )\n}\n\nexport default Prompt;\n","import './prompt.scss';\nimport Prompt from './prompt';\n\nexport default Prompt;\n","import './AppMobile.scss';\nimport React, { useReducer, useEffect, useState } from 'react';\nimport Prompt from './mobile-pages/prompt';\n\nfunction AppMobile() {\n\n  return (\n    <article className=\"mobile-stage\">\n      <Prompt />\n    </article>\n  );\n}\n\nexport default AppMobile;\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppMobile from './AppMobile';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppMobile />\n  </React.StrictMode>,\n  document.getElementById('mobile')\n);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}