{"version":3,"sources":["assets/floating.png","canvas/base.js","utils.js","canvas/float-ball.js","canvas/float-ball-group.js","pages/home/home.jsx","pages/home/index.js","pages/sky/sky.jsx","pages/sky/index.js","canvas/meteor.js","canvas/meteor-rain.js","pages/universe/universe.jsx","pages/universe/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Crood","x","y","this","setX","setY","noop","getRandom","n","m","Math","floor","random","rAF","window","requestAnimationFrame","cb","setTimeout","img","Image","src","FloatPng","FloatBall","params","canvas","ctx","speed","scale","dxRange","dyRange","cbDistroy","isDestroy","pos","imgWidth","imgHeight","getCroodXY","clearRect","nextX","_randomDx","nextY","_randomDy","setCrood","isOutRange","destroy","drawImage","width","FloatBallGroup","total","balls","handle","running","init","i","push","_createOneFloatBall","forEach","ball","draw","start","bind","minDx","maxDx","minDy","maxDy","filter","cancelAnimationFrame","screenAvailWidth","innerWidth","Home","canvasRef","useRef","useEffect","current","getContext","className","ref","id","height","Sky","PI","Meteor","from","to","delt","r","color","cbDistory","isDistory","dur","sqrt","pow","pass","now","copyCrood","min","percent","distory","save","beginPath","arc","fillStyle","fill","restore","MeteorRain","num","timer","rain","isStop","generateRain","setInterval","_createOneMeteor","every","meteor","stop","launch","index","toWidth","toHeight","clearInterval","screen","availWidth","screenAvailHeight","availHeight","Universe","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.9637d887.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAaZJREFUeNq0lWFvgjAQhkGKoBOdbvH//8FtThQBBXY1zy2XpvplmckbSWmf3r29K+k0TcmDXyZyyD+nIj95EN3QEFvoImMzUSkq0DwC7UUdakXjM2guWqIX0QKwY7ORCD3sIjqzphFdY9Ac0FpUoRXguYH2AE9smJPFWcHOpLwE+Cra8r9mo8JAOwBHxjMY3praz1FoCbQC+C7a8VzxPsPPlsWlCWogSq9GT7YgoooIPXAvehNt2FCh3r9v0k6Mx3ponZZMgXcrUt4C3PO8Yt7NeJkQWYsdZz1Uhc4NWCPeGCvWzOlJOwm8XZjyc5p+FsDVY418x3gHsOV9aWHKmlEOKaerim20iQGCdXfWjFKYKBfVYNpRu+eb/9606BCsu7PcA0DLKZ+Mh+rpkfFGTzvcyAUwbb2ayArjoT39L97XzL9YuAt6+UQkpanD7kGdfgDXyBV80/Q7U2eF6ZQr47GO8sBP0cFE3Gn6ml6OMtMprenxWO8fgNfG49+IRgZT08u6+NktVaMj68fw6tNUJ56tJc/u0ya8T9PI5+TPN3/6H9+oHwEGAHEl0JgodhzVAAAAAElFTkSuQmCC\"","class Crood {\n  constructor(x = 0, y = 0) {\n    this.x = x;\n    this.y = y;\n  }\n  setX(x) {\n    this.x = x;\n  }\n  setY(y) {\n    this.y = y;\n  }\n  setCrood(x, y) {\n    this.setX(x);\n    this.setY(y);\n  }\n  copyCrood() {\n    return new Crood(this.x, this.y);\n  }\n  getCroodXY() {\n    return [this.x, this.y];\n  }\n}\n\nexport {\n  Crood,\n}\n","export const noop = () => void(0);\n\nexport const getRandom = (n, m) => Math.floor(Math.random() * (m - n + 1) + n);\n\nexport const rAF = window.requestAnimationFrame || (cb => setTimeout(cb, 0));\n","import { Crood } from './base';\nimport { noop, getRandom } from 'src/utils';\nimport FloatPng from 'src/assets/floating.png';\n\nconst img = new Image();\nimg.src = FloatPng;\n\nexport default class FloatBall {\n  constructor(params) {\n    const {\n      canvas,\n      ctx,\n      x,\n      y,\n      speed = 50,\n      scale = getRandom(5, 12) / 10,\n      dxRange = [0, 0],\n      dyRange = [0, 0],\n      cbDistroy = noop,\n    } = params;\n    this.isDestroy = false;\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.pos = new Crood(x, y);\n    this.speed = speed;\n    this.dxRange = dxRange;\n    this.dyRange = dyRange;\n    this.cbDistroy = cbDistroy;\n    this.img = img;\n    this.imgWidth = 20 * scale;\n    this.imgHeight = 20 * scale;\n  }\n\n  draw() {\n    const [x, y] = this.pos.getCroodXY();\n    this.ctx.clearRect(x - this.imgWidth / 2, y - this.imgHeight / 2, this.imgWidth, this.imgHeight);\n    const nextX = x + this._randomDx() / this.speed;\n    const nextY = y + this._randomDy() / this.speed;\n    this.pos.setCrood(nextX, nextY);\n    if (this.isOutRange()) {\n      return this.destroy();\n    }\n    this.ctx.drawImage(this.img, this.pos.x - this.imgWidth / 2, this.pos.y - this.imgHeight / 2, this.imgWidth, this.imgHeight)\n  }\n\n  _randomDx() {\n    const [m, n] = this.dxRange;\n    return getRandom(m, n);\n  }\n\n  _randomDy() {\n    const [m, n] = this.dyRange\n    return getRandom(m, n);\n  }\n\n  isOutRange() {\n    const [x, y] = this.pos.getCroodXY();\n    return ((x >= this.canvas.width) || (y <= 0));\n  }\n\n  destroy() {\n    this.isDestroy = true;\n    typeof this.cbDistroy === 'function' && this.cbDistroy();\n  }\n\n}\n","import FloatBall from './float-ball';\nimport { getRandom, rAF } from 'src/utils';\n\nexport default class FloatBallGroup {\n  constructor(params) {\n    const {\n      canvas,\n      ctx,\n      total = 12,\n    } = params;\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.total = total; // 总共显示, 销毁一个生成一个\n    this.balls = [];\n    this.handle = null;\n    this.running = false;\n    this.init();\n  }\n\n  init() {\n    for (let i = 0; i < this.total; i ++) {\n      this.balls.push(this._createOneFloatBall());\n    }\n  }\n\n  start() {\n    this.running = true;\n    this.balls.forEach(ball =>{\n      !ball.isDestroy && ball.draw()\n    })\n    this.handle = rAF(this.start.bind(this));\n  }\n\n  _createOneFloatBall() {\n    const { canvas, ctx } = this;\n    const x = getRandom(0, canvas.width);\n    const y = 300;\n    const minDx = getRandom(-10, 0);\n    const maxDx = getRandom(40, 60);\n    const minDy = getRandom(-30, -20);\n    const maxDy = getRandom(-20, 0);\n    const speed = getRandom(50, 80);\n    return new FloatBall({\n      canvas,\n      ctx,\n      x,\n      y,\n      speed,\n      dxRange: [minDx, maxDx],\n      dyRange: [minDy, maxDy],\n      cbDistroy: () => {\n        // 先过滤销毁的ball，再添加一个新的\n        this.balls = this.balls.filter(ball => !ball.isDestroy)\n        this.balls.push(this._createOneFloatBall());\n      }\n    });\n  }\n\n  stop() {\n    this.running = false;\n    cancelAnimationFrame(this.handle);\n  }\n}","import React, { useRef, useEffect } from 'react';\nimport FloatBallGroup from 'src/canvas/float-ball-group';\n\n\nconst screenAvailWidth = window.innerWidth;\nconst Height = 300;\n\nfunction Home() {\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    const fbg = new FloatBallGroup({\n      canvas,\n      ctx,\n      total: 9,\n    });\n    fbg.start();\n  });\n\n  return (\n    <div className=\"page-home\">\n      <div>home</div>\n      <canvas\n        ref={canvasRef}\n        id=\"glass\"\n        width={ screenAvailWidth }\n        height={Height}\n        className=\"bottom-glass\"\n        />\n      <div className=\"bottom-glass\"></div>\n    </div>\n  );\n}\n\nexport default Home;\n","import './home.scss';\nimport Home from './home';\n\nexport default Home;\n","import React, { useEffect, useRef } from 'react';\n\nfunction Sky() {\n  return (\n    <div className=\"page-sky\">\n      <div>sky</div>\n    </div>\n  );\n}\n\nexport default Sky;\n","import './sky.scss';\nimport Sky from './sky';\n\nexport default Sky;\n","import { noop } from 'src/utils';\nimport { Crood } from './base';\n\nconst PI = Math.PI;\n\nclass Meteor {\n  constructor(params) {\n    const {\n      id,\n      canvas,\n      ctx,\n      from = new Crood(0, 0),\n      to = new Crood(0, 0),\n      speed = 1, // px/s\n      delt = 10,\n      r = 1, // raduis px\n      color = 'rgba(250,250,250,1)',\n      cbDistory = noop, // distory callback function\n    } = params;\n\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.id = id;\n    this.from = from;\n    this.to = to;\n    this.speed = speed;\n    this.delt = delt;\n    this.r = r;\n    this.color = color;\n    this.cbDistory = cbDistory;\n    this.handle = null; // raf handle\n    this.isDistory = false;\n\n    this.dur = Math.sqrt(Math.pow(this.to.x - this.from.x, 2) + Math.pow(this.to.y - this.from.y, 2)) * 1000 / this.speed;\n    this.pass = 0;\n    this.now = this.from.copyCrood();\n  }\n\n  draw() {\n    this.pass = Math.min(this.pass + this.delt, this.dur);\n    const percent = this.pass / this.dur;\n    if (percent === 1) {\n      return this.distory();\n    }\n    this.now.setCrood(\n      this.from.x + (this.to.x - this.from.x) * percent,\n      this.from.y + (this.to.y - this.from.y) * percent,\n    );\n\n    this.ctx.save();\n    this.ctx.beginPath(); \n    this.ctx.arc(this.now.x, this.now.y, this.r * 1, 0, PI * 2, true); \n    this.ctx.fillStyle = this.color;\n    this.ctx.fill();\n    this.ctx.restore();\n  }\n\n  isOutRange() {\n    const { width, height } = this.canvas;\n    return (this.now.x >= width) || (this.now.y >= height) || (this.now.x <= 0) || (this.now.y <= 0);\n  }\n\n  // start() {\n  //   const { width, height } = this.canvas;\n  //   if ((this.now.x >= width) || (this.now.y) >= height) {\n  //     return this.distory();\n  //   }\n  //   this.draw();\n  //   this.handle = rAF(this.start.bind(this));\n  // }\n\n  distory() {\n    this.ctx.clearRect(this.now.x - this.r, this.now.y - this.r, this.r * 2, this.r * 2);\n    cancelAnimationFrame(this.handle);\n    this.isDistory = true;\n    typeof this.cbDistory === 'function' && this.cbDistory();\n  }\n\n}\n\nexport default Meteor;\n","import Meteor from './meteor';\nimport { Crood } from 'src/canvas/base';\nimport { getRandom, rAF } from 'src/utils';\n\nclass MeteorRain {\n  constructor(params) {\n    const { canvas, ctx, num = 100 } = params;\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.num = num;\n    this.handle = null;\n    this.timer = null;\n    this.rain = [];\n    this.isStop = false;\n\n    this.generateRain();\n    this.timer = setInterval(() => {\n      this.generateRain();\n    }, 2000);\n  }\n\n  generateRain() {\n    for (let i = 0; i < this.num; i++) {\n      this.rain.push(this._createOneMeteor(i));\n    }\n  }\n\n  launch() {\n    const isStop = this.rain.every(meteor => meteor.isDistory);\n    if (isStop) {\n      return this.stop();\n    }\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.rain.forEach(meteor => {\n      !meteor.isDistory && meteor.draw();\n    });\n\n    this.handle = rAF(this.launch.bind(this));\n  }\n\n  _createOneMeteor(index) {\n    const speed = getRandom(300, 500);\n    const delt = getRandom(10, 15);\n    const toWidth = getRandom(0, this.canvas.width);\n    const toHeight = getRandom(0, this.canvas.height);\n    // const red = getRandom(0, 255);\n    // const green = getRandom(0, 255);\n    // const blue = getRandom(0, 255);\n    \n    return new Meteor({\n      id: index,\n      from: new Crood(this.canvas.width / 2, this.canvas.height / 2),\n      to: new Crood(toWidth, toHeight),\n      speed,\n      delt,\n      canvas: this.canvas,\n      ctx: this.ctx,\n      // color: `rgba(${red},${green},${blue},1)`\n    });\n  }\n\n  stop() {\n    this.isStop = true;\n    clearInterval(this.handle);\n  }\n}\n\nexport default MeteorRain;\n","import React, { useEffect, useRef } from 'react';\nimport MeteorRain from 'src/canvas/meteor-rain';\n\nconst screenAvailWidth = window.screen.availWidth;\nconst screenAvailHeight = window.screen.availHeight;\n\nfunction Universe() {\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    let rain = new MeteorRain({ canvas, ctx, num: 100 });\n    rain.launch();\n  });\n\n  return (\n    <div className=\"page-universe\">\n      <canvas\n        ref={canvasRef}\n        id=\"meteor\"\n        width={ screenAvailWidth }\n        height={ screenAvailHeight }\n        />\n    </div>\n  )\n}\n\nexport default Universe;\n","import './universe.scss';\nimport Universe from './universe';\n\nexport default Universe;\n","import React from 'react';\nimport './App.scss';\nimport Home from './pages/home';\nimport Sky from './pages/sky';\nimport Universe from './pages/universe';\n\nfunction App() {\n  return (\n    <div className=\"stage\">\n      <div className=\"my-story\">\n        <Universe />\n        <Sky />\n        <Home />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}